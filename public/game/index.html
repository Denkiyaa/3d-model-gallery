<!DOCTYPE html>
<html>
<head>
    <title>Castle Defense</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" href="http://craftedfromfilament.com/favicon.ico">
    <link rel="manifest" href="http://craftedfromfilament.com/manifest.json">
    <link href="https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap" rel="stylesheet">
</head>
<body>
    <div id="loginScreen" class="login-screen">
        <div class="login-container">
            <div class="game-title">
                <h1>Castle Defense</h1>
                <div class="title-decoration"></div>
            </div>
            <div class="input-group">
                <input type="text" id="nicknameInput" placeholder="Enter your nickname" maxlength="15">
                <div class="button-group">
                    <button id="startButton" class="medieval-button">Start Game</button>
                    <button id="showLeaderboard" class="medieval-button gold">Leaderboard</button>
                </div>
            </div>
        </div>
    </div>

    <div id="leaderboardContainer" class="leaderboard-container">
        <button class="leaderboard-close">&times;</button>
        <h2>Hall of Fame</h2>
        <div class="scroll-decoration top"></div>
        <ul id="leaderboardList"></ul>
        <div class="scroll-decoration bottom"></div>
    </div>

    <div id="waveStatus">Wave 1</div>
    <canvas id="gameCanvas"></canvas>

    <script type="module" src="main.js"></script>
    <script>
        document.getElementById('showLeaderboard').addEventListener('click', () => {
            const leaderboardContainer = document.getElementById('leaderboardContainer');
            leaderboardContainer.style.display = 'block';
            
            const highScores = JSON.parse(localStorage.getItem('highScores') || '[]');
            const leaderboardList = document.getElementById('leaderboardList');
            leaderboardList.innerHTML = highScores
                .map((score, index) => `
                    <li>${index + 1}. ${score.nickname} - ${score.score}</li>
                `).join('');
        });

        document.querySelector('.leaderboard-close').addEventListener('click', () => {
            document.getElementById('leaderboardContainer').style.display = 'none';
        });
    </script>
</body>
</html>
